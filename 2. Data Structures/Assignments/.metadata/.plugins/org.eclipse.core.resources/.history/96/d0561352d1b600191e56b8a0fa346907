/*
 * CheckBrackets.c
 *
 *  Created on: Aug 4, 2019
 *      Author: Abdelrahman
 */


#include "stack.h"

int main(){
	char str[100000];
	scanf("%s", str);
	fflush(stdin);

	int result = checkBrackets(str);

	return 0;
}

int checkBrackets(char *str){
	int size = strlen(str);
	stack *S = create_stack();
	for(unsigned int i = 0; i < size; i++){
		if(str[i] == '(' || str[i] == '[' || str[i] == '{'){
			push_stack(S, str[i]);
		}
		else{
			if(is_empty_stack(S)){
				return 0;
			}
			if(str[i] == ')' && S->top == '('){
				pop_stack(S);
			}
			if(str[i] == ']' && S->top == '['){
				pop_stack(S);
			}
			if(str[i] == '}' && S->top == '{'){
				pop_stack(S);
			}
		}
	}
	if(is_empty_stack(S)){
		return 1;
	}
	else{
		return 0;
	}
}
/*
string isBalanced(string s) {
    stack <char> check;
    for(int i = 0; i < s.size(); i++){
        if(s[i] == '(' || s[i] == '[' || s[i] == '{'){
            check.push(s[i]);
        }
        else{
            if(check.empty()){
                return "NO";
            }
            if(s[i] == ')' && check.top() == '('){
                check.pop();
            }
            if(s[i] == ']' && check.top() == '['){
                check.pop();
            }
            if(s[i] == '}' && check.top() == '{'){
                check.pop();
            }
        }
    }
    if(check.empty()){
        return "YES";
    }
    else{
        return "NO";
    }
}/**/
