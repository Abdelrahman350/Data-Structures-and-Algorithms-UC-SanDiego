/*
 * CheckBrackets.c
 *
 *  Created on: Aug 4, 2019
 *      Author: Abdelrahman
 */


#include "stack.h"
#include <string.h>

int main(){
	char str[100000];
	scanf("%s", str);
	fflush(stdin);

	int result = checkBrackets(str);

	if(result == 1){
		printf("Success");
		fflush(stdout);
	}
	else{
		printf("-1");
		fflush(stdout);
	}
	return 0;
}

int checkBrackets(char *str){
	int size = strlen(str);
	stack *S = create_stack();
	for(unsigned int i = 0; i < size; i++){
		if(str[i] == '(' || str[i] == '[' || str[i] == '{'){
			push_stack(S, str[i]);
		}
		else{
			if(is_empty_stack(S)){
				return 0;
			}
			if(str[i] == ')' && S->top->value == '('){
				pop_stack(S);
			}
			if(str[i] == ']' && S->top->value == '['){
				pop_stack(S);
			}
			if(str[i] == '}' && S->top->value == '{'){
				pop_stack(S);
			}
		}
	}
	if(is_empty_stack(S)){
		return 1;
	}
	else{
		return 0;
	}
}
